name: Periodic Health Check

on:
  schedule:
    - cron: '10 2 * * 0'  # Runs every Sunday at 1 AM

jobs:
  health_check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: URL Health Check
        uses: Jtalk/url-health-check-action@v4
        with:
          url: 'https://full-stack-open-pokedex-old-frost-9457.fly.dev/'
          max-attempts: 3 # Optional, defaults to 1
          retry-delay: 10 # Optional, defaults to 0
